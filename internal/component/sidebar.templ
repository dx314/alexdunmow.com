package component

templ Sidebar(activeLink string) {
    <aside id="sidebar" class="bg-primary text-text w-64 min-h-screen p-4 flex flex-col">
        <div class="mb-8">
            <h2 class="text-2xl font-bold text-accent">Your App</h2>
        </div>
        <nav class="flex-grow">
            <div id="debug-active-link">Current active link: {activeLink}</div>
            <ul class="space-y-2">
                <li>
                    <a href="/" class={
                        "block py-2 px-4 rounded transition-colors duration-200",
                        templ.KV("bg-secondary", activeLink == "home" || activeLink == ""),
                        templ.KV("hover:bg-secondary", activeLink != "home" && activeLink != ""),
                    } hx-get="/" hx-push-url="true" hx-target="#main-content">
                        <span class="inline-block w-6 mr-2">🏠</span> Home
                    </a>
                </li>
                <li>
                    <a href="/dashboard" class={
                        "block py-2 px-4 rounded transition-colors duration-200",
                        templ.KV("bg-secondary", activeLink == "dashboard"),
                        templ.KV("hover:bg-secondary", activeLink != "dashboard"),
                    } hx-get="/dashboard" hx-push-url="true" hx-target="#main-content">
                        <span class="inline-block w-6 mr-2">📊</span> Dashboard
                    </a>
                </li>
                <li>
                    <a href="/skills" class={
                        "block py-2 px-4 rounded transition-colors duration-200",
                        templ.KV("bg-secondary", activeLink == "skills"),
                        templ.KV("hover:bg-secondary", activeLink != "skills"),
                    } hx-get="/skills" hx-push-url="true" hx-target="#main-content">
                        <span class="inline-block w-6 mr-2">⚙️</span> Skill Tree
                    </a>
                </li>
                <li>
                    <a href="/settings" class={
                        "block py-2 px-4 rounded transition-colors duration-200",
                        templ.KV("bg-secondary", activeLink == "settings"),
                        templ.KV("hover:bg-secondary", activeLink != "settings"),
                    } hx-get="/settings" hx-push-url="true" hx-target="#main-content">
                        <span class="inline-block w-6 mr-2">⚙️</span> Settings
                    </a>
                </li>
            </ul>
        </nav>
        <div class="mt-auto pt-4 border-t border-secondary">
            <button hx-post="/logout" hx-target="body" class="w-full text-left block py-2 px-4 rounded hover:bg-secondary transition-colors duration-200">
                <span class="inline-block w-6 mr-2">🚪</span> Logout
            </button>
        </div>
        <button id="theme-switcher" class="mt-4 py-2 px-4 bg-accent text-primary rounded hover:bg-opacity-80 transition-colors duration-200">
            Toggle Theme
        </button>
        <script>
        window.addEventListener('DOMContentLoaded',function() {
            window.alexdunmow.initSidebar();
        });
        </script>
    </aside>
}
